
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xalan="http://xml.apache.org/xalan" xmlns:ajx="http://www.ajaxforms.net/2006/ajx" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:txs="http://www.agencexml.com/txs" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:dcterms="http://purl.org/dc/terms/"><!--HTML elements and Javascript instructions generated by XSLTForms rev.639 (639) - Copyright (C) 2017 <agenceXML> - Alain COUTHURES - http://www.agencexml.com--><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta content="IE=edge" http-equiv="X-UA-Compatible"><script type="text/javascript" id="xsltforms-initialdate">CKEDITOR = null;
var xsltforms_d0 = new Date();
XsltForms_fullDomEngine = "";
XsltForms_domEngine = "";
XsltForms_xpathEngine = "";
</script><link type="text/css" href="/xsltforms/build/xsltforms.css" pivalue="href=&#34;/xsltforms/build/xsltforms.xsl&#34; type=&#34;text/xsl&#34;" rel="stylesheet"><title>Test xf:upload control</title><script type="text/javascript" id="xsltforms-src" src="/xsltforms/build/xsltforms.js" data-uri="http://www.agencexml.com/xsltforms" data-version="639">/* */</script><script type="text/javascript" id="xsltforms-generatedscript">/* XsltForms_MagicSeparator */
function xsltforms_initImpl() {
XsltForms_globals.language = "navigator";
XsltForms_globals.loadingMsg = "...\x20Loading\x20...";
XsltForms_globals.valuesSeparator = "\x20";
XsltForms_globals.debugMode = false;
XsltForms_globals.xsltEngine = "SAXON\x206.5.5\x20from\x20Michael\x20Kay\x20http://saxon.sf.net/\x20";
XsltForms_browser.jsFileName='xsltforms.js';
XsltForms_browser.isXhtml = false;
XsltForms_browser.config = null;
var xsltforms_subform_eltid = null;
var xsltforms_parentform = null;
/* XsltForms_MagicSeparator */ try {
XsltForms_browser.dialog.show('statusPanel');
XsltForms_globals.ltchar = "<"; XsltForms_browser.isEscaped = XsltForms_globals.ltchar.length != 1;
var xsltforms_subform = new XsltForms_subform(xsltforms_parentform, "xsltforms-mainform", xsltforms_subform_eltid);
if (xsltforms_subform.id === "xsltforms-mainform") {
var d1 = new Date();
XsltForms_globals.htmltime = d1 - xsltforms_d0;
}
XsltForms_xpath.create(xsltforms_subform,"fileToConvert",false,new XsltForms_locationExpr(false,new XsltForms_stepExpr('child',new XsltForms_nodeTestName('','fileToConvert'))));
XsltForms_xpath.create(xsltforms_subform,"instance('file-upload')/upload",false,new XsltForms_pathExpr(new XsltForms_functionCallExpr('http://www.w3.org/2002/xforms instance',new XsltForms_cteExpr('file-upload')),new XsltForms_locationExpr(false,new XsltForms_stepExpr('child',new XsltForms_nodeTestName('','upload')))));
XsltForms_xpath.create(xsltforms_subform,"instance('file-upload')/upload/@filename",false,new XsltForms_pathExpr(new XsltForms_functionCallExpr('http://www.w3.org/2002/xforms instance',new XsltForms_cteExpr('file-upload')),new XsltForms_locationExpr(false,new XsltForms_stepExpr('child',new XsltForms_nodeTestName('','upload')),new XsltForms_stepExpr('attribute',new XsltForms_nodeTestName(null,'filename')))));
XsltForms_xpath.create(xsltforms_subform,"instance('file-upload')/upload/fileToConvert/text()",false,new XsltForms_pathExpr(new XsltForms_functionCallExpr('http://www.w3.org/2002/xforms instance',new XsltForms_cteExpr('file-upload')),new XsltForms_locationExpr(false,new XsltForms_stepExpr('child',new XsltForms_nodeTestName('','upload')),new XsltForms_stepExpr('child',new XsltForms_nodeTestName('','fileToConvert')),new XsltForms_stepExpr('child',new XsltForms_nodeTestType(3)))));
XsltForms_xpath.create(xsltforms_subform,"instance('result')/result",false,new XsltForms_pathExpr(new XsltForms_functionCallExpr('http://www.w3.org/2002/xforms instance',new XsltForms_cteExpr('result')),new XsltForms_locationExpr(false,new XsltForms_stepExpr('child',new XsltForms_nodeTestName('','result')))));
XsltForms_xpath.create(xsltforms_subform,"serialize(instance('result'))",false,new XsltForms_functionCallExpr('http://www.w3.org/2002/xforms serialize',new XsltForms_functionCallExpr('http://www.w3.org/2002/xforms instance',new XsltForms_cteExpr('result'))));
var xsltforms_model_6_2_6_ = XsltForms_model.create(xsltforms_subform,"xsltforms-mainform-model-default",null,null,null);

XsltForms_instance.create(xsltforms_subform,"result",xsltforms_model_6_2_6_,false,"application/xml",null,'<data><result/></data>');
XsltForms_instance.create(xsltforms_subform,"file-upload",xsltforms_model_6_2_6_,false,"application/xml",null,'<data><upload\x20filename=""><fileToConvert/></upload></data>');
new XsltForms_submission(xsltforms_subform,"upload-file",xsltforms_model_6_2_6_,"instance('file-upload')/upload/fileToConvert/text()",null,null,"http://cors-anywhere.herokuapp.com/http://www.tei-c.org/ege-webservice//Conversions/TEI%3Atext%3Axml/txt%3Atext%3Aplain","post",null,null,null,null,null,null,"text",new XsltForms_binding(null, "instance('result')/result"),null,"&",null,true,true,false,null,"text/xml");
var xsltforms_group_2_4_6_ = new XsltForms_group(xsltforms_subform,xsltforms_subform.id + "-group-2_4_6_",new XsltForms_binding(null, "instance('file-upload')/upload"));
var xsltforms_group_4_2_4_6_ = new XsltForms_group(xsltforms_subform,xsltforms_subform.id + "-group-4_2_4_6_",null);
new XsltForms_upload(xsltforms_subform,xsltforms_subform.id + "-upload-2_4_2_4_6_",2,new XsltForms_binding(null, "fileToConvert"),"true",new XsltForms_binding(null, "instance('file-upload')/upload/@filename"),"application/xml",null);
var xsltforms_trigger_4_4_2_4_6_ = new XsltForms_trigger(xsltforms_subform,xsltforms_subform.id + "-trigger-4_4_2_4_6_",new XsltForms_binding(null, "fileToConvert"));
var xsltforms_send_2_4_4_4_2_4_6_ = new XsltForms_dispatch(xsltforms_subform,"xforms-submit","upload-file",null,null,null,null);
var xsltforms_action_4_4_4_2_4_6_ = new XsltForms_action(xsltforms_subform,null,null,null).add(xsltforms_send_2_4_4_4_2_4_6_);
new XsltForms_listener(xsltforms_subform,document.getElementById(xsltforms_subform.id + "-trigger-4_4_2_4_6_"),null,"DOMActivate",null,function(evt) {XsltForms_browser.run(xsltforms_action_4_4_4_2_4_6_,XsltForms_browser.getId(evt.currentTarget ? evt.currentTarget : evt.target),evt,false,true);},true);
var xsltforms_group_6_2_4_6_ = new XsltForms_group(xsltforms_subform,xsltforms_subform.id + "-group-6_2_4_6_",null);
var xsltforms_group_8_2_4_6_ = new XsltForms_group(xsltforms_subform,xsltforms_subform.id + "-group-8_2_4_6_",null);
new XsltForms_output(xsltforms_subform,xsltforms_subform.id + "-output-2_8_2_4_6_",0,new XsltForms_binding("xsd:string", "serialize(instance('result'))"),null);
XsltForms_browser.dialog.show('statusPanel');
if (xsltforms_subform.id === "xsltforms-mainform") {
XsltForms_browser.idPf = xsltforms_subform.id + "-";
var xsltforms_model_config = new XsltForms_model(xsltforms_subform,xsltforms_subform.id + "-model-config",null);
var xsltforms_instance_config = new XsltForms_instance(xsltforms_subform,xsltforms_subform.id + "-instance-config",xsltforms_model_config,true,'application/xml',null,'<properties><!--\x20\x20accessible\x20at\x20run\x20time\x20--><html>4</html><language>navigator</language><!--\x20navigator\x20or\x20default\x20--><!--domengine\x20name=\"Fleur\"\x20url=\"/fleur/fleur.js\"\x20uri=\"http://www.agencexml.com/Fleur\"\x20version=\"1.0\"/--><calendar.label>...</calendar.label><calendar.day0>Mon</calendar.day0><calendar.day1>Tue</calendar.day1><calendar.day2>Wed</calendar.day2><calendar.day3>Thu</calendar.day3><calendar.day4>Fri</calendar.day4><calendar.day5>Sat</calendar.day5><calendar.day6>Sun</calendar.day6><calendar.initDay>6</calendar.initDay><calendar.month0>January</calendar.month0><calendar.month1>February</calendar.month1><calendar.month2>March</calendar.month2><calendar.month3>April</calendar.month3><calendar.month4>May</calendar.month4><calendar.month5>June</calendar.month5><calendar.month6>July</calendar.month6><calendar.month7>August</calendar.month7><calendar.month8>September</calendar.month8><calendar.month9>October</calendar.month9><calendar.month10>November</calendar.month10><calendar.month11>December</calendar.month11><format.date>MM/dd/yyyy</format.date><format.datetime>MM/dd/yyyy\x20hh:mm:ss</format.datetime><format.decimal>.</format.decimal><format-number.decimal-separator-sign>.</format-number.decimal-separator-sign><format-number.exponent-separator-sign>e</format-number.exponent-separator-sign><format-number.grouping-separator-sign>,</format-number.grouping-separator-sign><format-number.infinity>Infinity</format-number.infinity><format-number.minus-sign>-</format-number.minus-sign><format-number.NaN>NaN</format-number.NaN><format-number.percent-sign>%</format-number.percent-sign><format-number.per-mille-sign>â€°</format-number.per-mille-sign><status>...\x20Loading\x20...</status></properties>');
XsltForms_browser.config = xsltforms_instance_config.doc.documentElement;
var d2 = new Date();
XsltForms_globals.creatingtime = d2 - d1;
XsltForms_browser.i18n.asyncinit(XsltForms_globals.init);
var d3 = new Date();
XsltForms_globals.inittime = d3 - d2;
} else {
xsltforms_subform.construct();
var sf = document.getElementById(xsltforms_subform_eltid).xfElement;
if (!sf || !sf.isComponent) {XsltForms_globals.openAction("XsltForms_subform.prototype.construct");
XsltForms_globals.closeChanges(true);
XsltForms_globals.closeAction("XsltForms_subform.prototype.construct");
}
XsltForms_browser.dialog.hide('statusPanel');
}
} catch (e) {
try {console.log(e);} catch(e2) {}
XsltForms_browser.dialog.hide('statusPanel');
if (!XsltForms_globals.debugMode) {
XsltForms_globals.debugMode = true;
XsltForms_globals.debugging();
}
alert("XSLTForms\x20Exception\n--------------------------\n\nError\x20initializing\x20:"+(e?(e.name?"\n"+e.name:"")+(e.message?"\n"+e.message:""):"")+(!e || typeof(e.stack)=="undefined"?"":"\n\n"+e.stack));
} /* XsltForms_MagicSeparator */ };
</script><script type="text/javascript" id="xsltforms-launcher">function xsltforms_init() {
try {
if (window.xf_pre_init) xf_pre_init();
xsltforms_initImpl();
if (window.xf_user_init) xf_user_init();
;
} catch(e) {
try {console.log(e);} catch(e2) {}
alert("XSLTForms\x20Exception\n--------------------------\n\nIncorrect\x20Javascript\x20code\x20generation:\n\n"+(typeof(e.stack)=="undefined"?"":e.stack)+"\n\n"+(e.name?e.name+(e.message?"\n\n"+e.message:""):e));
}
}
XsltForms_browser.events.attach(window, "load", xsltforms_init);
</script></head><body><!--XsltForms_MagicSeparator--><div id="xsltforms-mainform-group-2_4_6_" class="xforms-disabled xforms-group"><div class="xforms-group-content"><h1>Test <code>&lt;xf:upload/&gt;</code> control</h1><div id="xsltforms-mainform-group-4_2_4_6_" class="xforms-disabled xforms-group"><div class="xforms-group-content"><span id="xsltforms-mainform-upload-2_4_2_4_6_" class="xforms-disabled xforms-control xforms-upload xforms-appearance"><span class="focus">&nbsp;</span><label id="xsltforms-mainform-label-2_2_4_2_4_6_" class="xforms-label">Select</label><span class="value"><input type="file" onclick="return this.parentElement.parentElement.xfElement.directclick();" onchange="this.parentElement.parentElement.xfElement.change()" class="xforms-value"></span><span class="xforms-required-icon">*</span><span class="xforms-alert"><span class="xforms-alert-icon">&nbsp;</span></span></span><span id="xsltforms-mainform-trigger-4_4_2_4_6_" class="xforms-disabled xforms-control xforms-trigger xforms-appearance-minimal"><span class="value"><button type="button"><span id="xsltforms-mainform-label-2_4_4_2_4_6_" class="xforms-label">Upload</span></button></span><span class="xforms-required-icon">*</span><span class="xforms-alert"><span class="xforms-alert-icon">&nbsp;</span></span></span></div></div><div id="xsltforms-mainform-group-6_2_4_6_" class="xforms-disabled xforms-group"><div class="xforms-group-content"></div></div><div id="xsltforms-mainform-group-8_2_4_6_" class="xforms-disabled xforms-group"><div class="xforms-group-content"><span id="xsltforms-mainform-output-2_8_2_4_6_" class="xforms-disabled xforms-control xforms-output xforms-appearance-minimal"><span class="value"><span class="xforms-value">&nbsp;</span></span></span></div></div></div></div><!--XsltForms_MagicSeparator--><div id="xsltforms_console">&nbsp;</div><div id="statusPanel">... Loading ...&nbsp;</div></body></html>