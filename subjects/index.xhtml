<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="http://pulcams.github.io/xsltforms/build/xsltforms.xsl" type="text/xsl"?><?xsltforms-options debug="no"?><?css-conversion no?><?xml-model href="http://www.oxygenxml.com/1999/xhtml/xhtml-xforms.nvdl" schematypens="http://purl.oclc.org/dsdl/nvdl/ns/structure/1.0"?>
<html
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:bf="http://bibframe.org/vocab/"
	xmlns:c="http://www.w3.org/ns/xproc-step"
	xmlns:cwb="http://libserv6.princeton.edu/cwb/"
	xmlns:cx="http://xmlcalabash.com/ns/extensions"
	xmlns:dcterms="http://purl.org/dc/terms/"
	xmlns:ev="http://www.w3.org/2001/xml-events"
	xmlns:p="http://www.w3.org/ns/xproc"
	xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
	xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
	xmlns:sr="http://www.w3.org/2005/sparql-results#"
	xmlns:xf="http://www.w3.org/2002/xforms"
	xmlns:xi="http://www.w3.org/2001/XInclude"
	xmlns:xs="http://www.w3.org/2001/XMLSchema"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<head>
		<meta
			content="IE=edge,chrome=1"
			http-equiv="X-UA-Compatible" />
		<title>Cataloger's Workbench Editor</title>
		<link
			href="resources/css/bootstrap.min.css"
			rel="stylesheet"
			type="text/css" />
		<xf:model>
			<xf:instance
				id="categories-template">
				<rdf:RDF>
					<bf:Work>
						<bf:subject>
							<bf:Category
								rdf:about="http://libserv6.princeton.edu/cwb/category/cf09dfba-ed41-4d82-9bdb-7ad7b105a6c3#this">
								<bf:categoryValue></bf:categoryValue>
								<dcterms:hasPart>
									<bf:Topic
										rdf:about="http://libserv6.princeton.edu/cwb/topic/4a4f0553-58e3-4836-bfcc-27566aa01c2e#this">
										<bf:hasAuthority
										rdf:resource="3f5446df-b14c-4f4e-bf8a-fc062fc68ec1"></bf:hasAuthority>
									</bf:Topic>
								</dcterms:hasPart>
							</bf:Category>
						</bf:subject>
					</bf:Work>
				</rdf:RDF>
			</xf:instance>
			<xf:instance
				id="bf-Category-categoryValue-categories"
				resource="categories.xml"></xf:instance>
			<xf:instance
				id="bf-Topic-hasAuthority-subjects"
				resource="subjects.xml"></xf:instance>
			<xf:instance
				id="variables">
				<cwb:data>
					<cwb:iter>1</cwb:iter>
				</cwb:data>
			</xf:instance>
			<xf:instance
				id="replace">
				<cwb:data></cwb:data>
			</xf:instance>
			<xf:action
				ev:event="xforms-ready">
				<xf:load
					show="embed"
					targetid="subform">
					<xf:resource
						value="concat('subjects/peru-',instance('variables')/cwb:iter, '.xhtml')"></xf:resource>
				</xf:load>
			</xf:action>
			<xf:submission
				encoding="UTF-8"
				id="write-file"
				instance="replace"
				method="post"
				ref="instance('categories')"
				replace="none"
				resource="/marc"
				serialization="application/xml">
				<xf:action
					ev:event="xforms-submit-done">
					<xf:message>Saved successfully</xf:message>
				</xf:action>
			</xf:submission>
		</xf:model>
	</head>
	<body>
		<h1>Cataloger's Workbench Editor</h1>
		<xf:trigger>
			<xf:label>Previous</xf:label>
			<xf:action
				ev:event="DOMActivate">
				<xf:setvalue ref="instance('variables')/cwb:iter" value="instance('variables')/cwb:iter - 1"></xf:setvalue>
				<xf:unload
					targetid="subform"></xf:unload>
				<xf:load
					show="embed"
					targetid="subform">
					<xf:resource
						value="concat('subjects/peru-',instance('variables')/cwb:iter, '.xhtml')"></xf:resource>
				</xf:load>
			</xf:action>
		</xf:trigger>
		<xf:input
			incremental="true"
			ref="instance('variables')/cwb:iter">
			<xf:label>Page</xf:label>
			<xf:action
				ev:event="xforms-value-changed">
				<xf:unload
					targetid="subform"></xf:unload>
				<xf:load
					show="embed"
					targetid="subform">
					<xf:resource
						value="concat('subjects/peru-',instance('variables')/cwb:iter, '.xhtml')"></xf:resource>
				</xf:load>
			</xf:action>
		</xf:input>
		<xf:trigger>
			<xf:label>Next</xf:label>
			<xf:action
				ev:event="DOMActivate">
				<xf:setvalue ref="instance('variables')/cwb:iter" value="instance('variables')/cwb:iter + 1"></xf:setvalue>
				<xf:unload
					targetid="subform"></xf:unload>
				<xf:load
					show="embed"
					targetid="subform">
					<xf:resource
						value="concat('subjects/peru-',instance('variables')/cwb:iter, '.xhtml')"></xf:resource>
				</xf:load>
			</xf:action>
		</xf:trigger>
		<xf:group
			id="subform"></xf:group>
	</body>
</html>
